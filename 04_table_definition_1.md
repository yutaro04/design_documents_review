# テーブル定義書1_レビュー
## 共通
- テーブル名の命名規則がNG。
  > テーブル名は、下記の規則に従って命名して下さい。
  > * 全てアルファベット小文字
  > * スネークケース(複数単語はアンダースコア""_""で区切る)
  > * 複数形
- カラム名の接頭辞にテーブル名がついてる。
  > "admin_id", "admin_email"…とカラム名にadminが付与されていますが、"id", "email"…というように頭の"admin_"は必要ありません。テーブル名が"Admins"となるため、管理者のid、emailであることはテーブル名によって明示されていると考えて良いです。
  > 他のテーブルにおいても、カラム名が"[テーブル名]_XXX"となっているケースが見受けられますので、全体を通して見直してください。
  > id にはデフォルトで index属性が適用されるので、適用されていることが明確に分かるようにしてください。
- created_atが全てユーザ登録日時になっている。
- updated_atが全てユーザ更新日時になっている。
  > 全てのテーブルで"created_at"が「ユーザー登録日時」に、"updated_at"が「ユーザー更新日時」となっておりますが、Usersテーブル以外では命名を変える必要があります。全体を通して見直して下さい。
- idがない。
  > Railsの場合、全てのテーブルに対して"id"カラムが作成されます。抜けているテーブルがあれば追記して下さい。

## Admin
- 命名が複数形じゃない。
  > テーブル名が単数形となっておりますが、複数形としてください。
- PKがない。
  > PKはどのカラムとなりますか

## Users
- user_という接頭辞がついてる。
  > カラム名の"user_"部分は不要ですので、削除してください。
- 命名に略語を使っている。
  > カラム名の"user_l_name"は、"last_name"の略称かと思われますが、他の人が一見して分かりづらいです。一目見て分かる命名にして下さい。
  > "f_name","l_kana","f_kana"も同様です。
- 住所とは別の配送先住所がある(配送先を複数登録することを考慮してない)。
  > 住所と別の配送先は、一つしか登録できないのでしょうか。
- 郵便番号がinteger型
- 電話番号がinteger型
  > 自分の電話番号を試しに電卓で打ってみてみましょう。正しく表示されましたか？
  > 基本的にこれらの項目は、
  > ・先頭のゼロに意味がある
  > ・計算に使う値ではない
  > という理由で、integerでは持たないことが多いです。
- member_statusが何を意味しているか不明。
- member_statusがstring型
  > member_statusですと、メンバーの何のステータスを表しているか分かりづらいです。
  > "is_deleted"など、退会かどうか判断しやすい命名にして下さい。
  > また、string型で定義していますが、true/falseで管理すればよい場合はboolean型が便利です。

## Products
- product_という接頭辞がついてる。
  > カラム名の"product_"部分は不要ですので、削除してください。
- FKの記載がない。
  > genre_id, label_id, artist_idは他のテーブルのFKでしょうか。もしそうであれば、FKの欄に"○"を明記して下さい。
- 子テーブルのidを持っている。
  > disc_idはFKのようですが、必要でしょうか？ER図を見直してください。
- cd_titleはtitleで十分。
  > "cd_title"について、命名は"title"で良いです。商品のタイトルであることは、テーブル名によって明示されています。
- 在庫状況をステータス管理しているので、在庫数と食い違う可能性がある。
  > "stock_status"は在庫ステータスということですが、仮に在庫有無のステータスを手動で切り替える場合、実際に在庫がなくなった時とタイムラグが発生することが予想されますので、見直しをお願いします。
- 在庫数カラムがある（入荷と売上から算出できる）。
  > 在庫数カラムがありますが、商品が入荷するたびに数値を変更するのでしょうか。

## Discs
- disc_という接頭辞がついてる。
  > "disc_id"の"disc_"部分は不要ですので、削除してください。
- products_idではなく、product_idにすべき。
  > FKの商品IDが products_id となっていますが、ここのFKにはdiscに紐づいている一件の product の id が入るので、product_id に変更してください。
- track_noの用途が不明。
  > "track_no"はディスクではなく、曲順を管理する際に用いる情報かと思いますので、DiscsテーブルではなくSongsテーブルに必要なカラムとなります。
  > また、カラム名は略名を使用せずに命名してください。
- 複数枚組を考慮してない。
  > 同一商品内で異なるディスクかどうかは、どのように管理しますか。

## Songs
- songカラムが曲名をもつならば命名はnameなどとするべき。
  > "song"は曲名を持たせるカラムとなっていますが、"name"や"title"など、名前であることを一目見て分かるような単語を使って命名して下さい。
- songカラムが曲名をもたせるのに、integerとなってる。
  > "song"カラムは曲名を表しますが、integer(整数型)となっています。

## Labels
- product_idは不要。
  > "product_id"カラムが必要な理由を教えて下さい。
- labelカラムがレーベル名をもつならばnameなどとするべき。
  > "label"はレーベル名を持たせるカラムとなっていますが、名前であることを一目見て分かるような単語を使って命名して下さい。

## Artists
- product_idは不要。
  > "product_id"カラムが必要な理由を教えて下さい。
- artistカラムがアーティスト名をもつならばnameなどとするべき。
  > "artists"はアーティスト名を持たせるカラムとなっていますが、名前であることを一目見て分かるような単語を使って命名して下さい。
- artistカラムが曲名をもたせるのに、integerとなってる。
  > "artist"カラムはアーティスト名を表しますが、integer(整数型)となっています。

## Genre
- テーブル名が単数形になっている。
  > テーブル名が単数形となっておりますが、複数形としてください。
- product_idは不要。
  > "product_id"カラムが必要な理由を教えて下さい。
- genreカラムがアーティスト名をもつならばnameなどとするべき。
  > "genre"はジャンル名を持たせるカラムとなっていますが、名前であることを一目見て分かるような単語を使って命名して下さい。
- genreカラムが曲名をもたせるのに、integerとなってる。
  > "genre"カラムはアーティスト名を表しますが、integer(整数型)となっています。

## Cart item
- products_idではなく、product_idにすべき。
  > カラム名が"products_id"となっておりますが、FKとして持たせる場合"product_id"と単数形にして下さい。
  > また、データ型の記載がありませんので、明記して下さい。
- buy numの意味が不明。_(アンダースコア)をつけてない。
  > 購入枚数のカラム名が"buy num"となっておりますが、下記について見直して下さい。
  > "buy num"は直訳すると「番号を買う」となり、カラム説明と意味が異なってきます。適切な単語を選んでください。
  > カラム名で複数単語を使用する場合は、アンダースコア"_"で区切って下さい。
- 小計金額は不要（数量と商品の価格から算出可能）。
  > 小計金額として"subtotal"というカラムを設けていますが、下記の理由から必要ありません
  > 小計金額は商品価格と購入枚数を掛け算することで求められる
  > 商品価格が変更になった場合、例えば1000人がカートに該当商品を入れていたら、1000レコードを一気に更新する必要が生じる

## Buy
- buyだと受注の意味じゃない。
  > "Buy"は直訳すると「買う」となり、本来持たせるべき「注文履歴」という意味合いと異なってしまいます。
  > 「共通」の項目でお伝えした命名規則と合わせて見直しをお願いします。
  > 「購入」はユーザーから見たアクションですが、表現しているものは「注文」になります。したがって、「注文」としていただく形になります。
- 子テーブル（buy_details）のidをFKとして持っている。
  > "buy_details_id"カラムが必要な理由を教えて下さい。
- payが何を意味しているか不明。
  > 支払い方法のカラムが pay となっていますが、カラムの命名規則に「何についてのカラムか分かること」があるので、payment_method などのカラム名に変更してください。
- 支払合計がstockになっていて意味不明。
  > 支払い合計のカラムが、stock になっています。
- 支払い方法がstringになっており、enumを考慮してない。
  > 支払い方法がstringになっていますが、
  > 
  > 支払い方法  
  > ーーー  
  > 銀行振込  
  > 銀行振込  
  > クレジットカード  
  > 銀行振込  
  > 銀行振込  
  > クレジットカード  
  > ：
  > 
  > のようにデータが入っていくのでしょうか。  
  > 支払い方法のようなデータをstringで持つのは、  
  > ・全角文字でデータサイズが大きくなる  
  > ・文字列を変えたくなった場合、大量のレコードをUPDATEする必要がある  
  > などの理由で、好ましくありません。  
  > 「enum」で調べてみてください。  
- 送付先住所はあるが、郵便番号と住所がない。
  > 送付先住所カラムがありますが、このカラムに郵便番号も住所も全て入りますか。

## Buy details
- buy detailsだと受注詳細の意味にならない。
  > "Buy details"は直訳すると「詳細を買う」となり、本来持たせるべき「購入詳細」という意味合いと異なってしまいます。
  > 「共通」の項目でお伝えした命名規則と合わせて見直しをお願いします。
  > 「購入」はユーザーから見たアクションですが、表現しているものは「注文」になります。したがって、「注文詳細」としていただく形になります。
- buy numは意味不明。スネークケースになってない。
  > "buy num"は直訳すると「番号を買う」となり、カラム説明と意味が異なってきます。適切な単語を選んでください。
  > カラム名で複数単語を使用する場合は、アンダースコア"_"で区切って下さい。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。
