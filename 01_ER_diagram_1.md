# ER図1

##全体
- 自動的に生成される「登録日、更新日」といったカラムが記載されていません。
  - 意図的に記載していないのであれば、理由を記載してください。

- 入荷した商品の管理はどのように行いますか？
  - 入荷して販売前の商品を管理できるようにしましょう

## 管理人
- 全ての親が管理人になっています
  - 全てのテーブルに管理人が含まれてしまいます、管理人を削除した場合どうなりますか？

## エンドユーザー
- エンドユーザーが登録できる住所は１つだけでしょうか
  - 複数登録可能であれば、新しいテーブルが必要です。

- 論理削除はどのように行いますか
  - 論理削除をしなければ退会と同時に全てのデータが消えてしまいます

## 商品
- レーベル、ジャンル、アーティストは1商品につき１つですか？
  - 複数のレーベル、ジャンル、アーティストがあるのであれば、重複が生じてしまいます

- 商品の中にはディスクが１枚だけでしょうか
  - 複数枚あるのであれば、曲もそれに対応させなければいけません
 
- 論理削除はどのように行いますか
  - 論理削除がなければ、商品を消したと同時に過去の商品などを確認できません

- 在庫数は「入荷数-売り上げ個数」を計算したものを利用した方が良いです。
  - 入荷数、売り上げ個数に当たるカラムが必要があります

- ステータス（取り扱い）カラムの命名は適切でしょうか
  - 入り得る値が想像しやすい命名が適切です。

## カート
- テーブル名と役割が適切ではないです
  - 「カート内商品」などが適切です

- 合計金額カラムにデータを入れる必要はありますか？
  - 各商品の金額を計算すると出てきます

- 不要なカラムが存在します
  - 他のテーブルと見比べてください

- 商品がカートを持つのでしょうか
  - カートをユーザーで判断ができません

- PKの名前がテーブル名と合っていません
  - 適切な命名をしてください

## 決済
- テーブル名の命名は管理者目線の命名が適切です
  - 管理者目線で考えてみてください

- 購入日カラムは、自動生成されるカラムと役割が似ていませんか？
  - 自動生成のカラムを書き足した後にご確認ください

- 送料は管理されていますか？
  - 送料は発生するので、考慮してください

- 決済時の合計金額は管理されていますか？
  - 決済情報は保存されるべきなので、合計金額の保存が必要です

- 「カート」との関係は必要ですか？
  - 今のままだと、注文後もカートと決済はずっと結びついたままになります。

- 送付先住所はありますが「宛名、郵便番号」のデータがありません。
  - 購入者以外の人に送る可能性もあります。

## 購入履歴
- PKは必ず必要です
  - PKは１テーブルにつき１つ必要になります

- 購入後のデータは固定しなくて大丈夫ですか？
  - 購入後に商品の値段が変わると履歴まで変わってしまいます
 
- このテーブルの役割は合っていますか？
  - 一度の購入で複数の履歴ができてしまいます

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

# 指摘事項
 * 指摘事項は残しておいてください。
 
## 全体
- ">"はレビュー作成時に使うので、問題抽出時は使わないようにしましょう。
  - こんな感じで、左にスペース2個開けると子になります。
  - また、レビュー文章と追加説明がまぜこぜになっているように見受けられますので次の課題以降注意しましょう。
- 
## 商品
- ステータス(取り扱い)カラムは適切でしょうか。
  - 入り得る値が想像しやすいカラム名が適切です。

## 決済
- "##"と"決済"の間が全角スペースになっており、上手くマークダウンになっていないので修正しましょう。

## 購入履歴
- このテーブルは必要でしょうか。
  - 購入が複数できて履歴になるため、1決済が複数履歴を持つということ自体が誤りになります。
  - "購入後に商品の値段が変わると履歴まで変わってしまいます"に含まれているのであればOKです。
